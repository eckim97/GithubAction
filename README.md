# GithubAction

이 프로젝트는 AWS와 GitHub Actions를 활용하여 CI/CD 파이프라인을 구축한 예제입니다. 이 파이프라인을 통해 코드가 푸시되면 자동으로 빌드, 테스트, 배포가 이루어집니다.

## CI/CD 파이프라인 개요

1. **코드 푸시**: 코드가 GitHub의 `main` 브랜치로 푸시되면, GitHub Actions가 자동으로 트리거됩니다.
   
2. **빌드 및 테스트**:
   - Gradle을 사용하여 프로젝트를 빌드합니다.
   - 빌드 과정에서 JAR 파일이 생성됩니다.
   - 테스트가 자동으로 실행되어 코드의 품질을 검증합니다.

3. **배포**:
   - AWS S3 버킷에 빌드된 JAR 파일을 업로드합니다.
   - AWS CodeDeploy를 사용하여 EC2 인스턴스에 새로운 버전을 배포합니다.
   - 배포 스크립트는 기존 애플리케이션을 중지하고 새 JAR 파일을 실행합니다.

## 주요 파일

- **`build.gradle`**: 프로젝트의 빌드 설정 파일로, plain.jar 파일 생성 방지를 위한 설정이 포함되어 있습니다.
- **`appspec.yml`**: AWS CodeDeploy에 사용되는 설정 파일로, 파일 복사와 애플리케이션 실행에 필요한 스크립트를 정의합니다.
- **`scripts/gh_deploy.sh`**: 배포 스크립트로, EC2 인스턴스에서 애플리케이션을 중지하고 새로운 버전을 실행합니다.
- **`deploy.yaml`**: GitHub Actions 워크플로 파일로, CI/CD 파이프라인의 전 과정을 정의합니다.

## 결과 확인

- 배포가 완료된 후, 설정된 엔드포인트로 API 요청을 보내어 응답이 정상적으로 오는지 확인할 수 있습니다.
- 예시: `curl http://<EC2-INSTANCE-IP>:8080/demo`
  
이 프로젝트를 통해 CI/CD의 기초 개념과 AWS 서비스 간의 연동을 학습할 수 있습니다.
